<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>

    <script src="https://kit.fontawesome.com/683b4b40e3.js" crossorigin="anonymous"></script>

    <style>
        /* popup styling */
        .bg-modal {
            width: 100%;
            height: 650px;
            background-color: rgba(0, 0, 0, 0.7);
            position: absolute;
            justify-content: center;
            display: none;

        }

        .modal-content {
            background-color: white;
            width: 600px;
            height: 650px;
            /* text-align: center; */
            position: relative;
        }

        .close1 {
            position: absolute;
            top: 0;
            right: 10px;
            transform: rotate(45);
            font-size: 40px;
        }

        .close2 {
            position: absolute;
            top: 0;
            right: 10px;
            transform: rotate(45);
            font-size: 40px;
        }

        .bg-modal2 {
            width: 100%;
            height: 650px;
            background-color: rgba(0, 0, 0, 0.7);
            position: absolute;
            /* top: 0; */
            justify-content: center;
            display: none;

        }

        .modal-content2 {
            background-color: white;
            width: 600px;
            height: 650px;
            /* text-align: center; */
            position: relative;
        }


        #navbar {
            display: flex;
            border: 1px solid rgb(27, 23, 23);
            justify-content: right;
            gap: 20px;
            padding: 5px 50px;
        }

        form {
            width: 50%;

        }

        input {
            padding: 10px 200px;
            text-align: left;
        }

        select {
            margin-left: 5px;
            padding: 10px 247px;
        }

        label {
            margin-left: 5px;
            float: left;
            width: 150px;
            margin-bottom: 10px;
            /*or whatever you want the spacing to be*/
        }

        input {
            margin-left: 5px;
            float: left;
            /* width: 150px; */
            margin-bottom: 10px;
            /*or whatever you want the spacing to be*/
        }
        #cond{
            display:inline-block;
            text-align:justify;
            border: 1px solid red;
        }
        .signup-submit{
         padding:10px 268px; 
        }
        .login-submit{
            margin-top: 10px;
            padding: 10px 262px;
        }
        h1{
            display: inline-block;
        }
    </style>
</head>

<body>
    <div id="navbar">
        <p>Menu</p>
        <p id="sign_up"><a href="#">sign up</a></p>
        <p id="login"><a href="#">login</a></p>
        <p id="profile-name">User</p>
    </div>


    <div class="bg-modal">

        <div class="modal-content">
            <div class="close1">x</div>

            <form onsubmit="Register(event)">
                <h1>Register</h1>
                <br>

                <label>First Name</label>
               
                <input type="text" id="name1" placeholder="First Name" required>
               
                <label>Last Name</label>
              
                <input type="text" id="name2" placeholder="Last Name" required>
              
                <label>Region</label>
               
                <select name="" id="region">
                    <option value="">USA</option>
                    <option value="">INDIA</option>
                    <option value="">UK</option>
                    <option value="">RUSSIA</option>
                </select>
               
                <label>Email</label>
               
                <input type="email" id="email" placeholder="Email" required>
                
                <label>Username</label>
               
                <input type="text" id="username" placeholder="username" required>
            
                <label>Password</label>
              
                <input type="password" id="password" placeholder="password" required>
               
                <p id="cond">By signing up, I agree to Marriott's Terms of Use and Marriott Bonvoy Terms and Conditions.
                   I also
                    acknowledge Marriott's Privacy Statement located in the Privacy Center.</p>
              
                <input type="submit" class="signup-submit">
            </form>

        </div>
    </div>

    <div class="bg-modal2">
        <div class="modal-content2">
            <div class="close2">x</div>

            <form onsubmit="Login(event)">
                <h1>Welcome to Marriott Bonvoy</h1>
                <h1>SignIn To Your Account</h1>

                <p>Username</p>
                <input type="text" id="username-login" placeholder="username">

                <p>Password</p>
                <input type="password" id="password-login" placeholder="password">

                <br><br>
                <input type="submit" class="login-submit">
            </form>
        </div>
    </div>
</body>

</html>

<script>

    var arr = JSON.parse(localStorage.getItem("userData")) || []

    //popup for sign-up
    document.getElementById("sign_up").addEventListener("click", function () {
        console.log("here")
        document.querySelector(".bg-modal2").style.display = "none"
        document.querySelector(".bg-modal").style.display = "flex"

    })

    document.querySelector(".close1").addEventListener("click", function () {
        document.querySelector(".bg-modal").style.display = "none"
    })


    //popup for login
    document.getElementById("login").addEventListener("click", function () {
        console.log("here")
        document.querySelector(".bg-modal").style.display = "none"
        document.querySelector(".bg-modal2").style.display = "flex"
    })

    document.querySelector(".close2").addEventListener("click", function () {
        document.querySelector(".bg-modal2").style.display = "none"
    })

    function Register(e) {

        e.preventDefault()
        var register_data = {
            name1: document.getElementById("name1").value,
            name2: document.getElementById("name2").value,

            region: document.getElementById("region").value,

            email: document.getElementById("email").value,
            password: document.getElementById("password").value,

            username: document.getElementById("username").value,
        };

        arr.push(register_data)
        console.log(register_data)
        localStorage.setItem("userData", JSON.stringify(arr))

        alert("Registration Successful")
        window.location.href = "login.html"

    }




    //new discussion login

    function Login(e) {
        e.preventDefault()
        let login_data = {
            username: document.getElementById("username-login").value,

            password: document.getElementById("password-login").value,

        }

        let flag = false;

        for (let i = 0; i < arr.length; i++) {

            if (login_data.username == arr[i].username && login_data.password == arr[i].password) {
                alert("login successful")
                flag = true;
                window.location.href = "login.html"

                // document.querySelector("#sign_up").innerHTML=""
                // document.querySelector("#login").textContent=""

                // document.querySelector("profile-name").textContent= "nnuuumm"

                return

            } if (!flag) {
                alert("Invalid Credentials ")
                return
            }


        }

    }

    //getting profile




</script>